<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB Veri Ekleme</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <style>
        body {
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
            color: #444;
        }
        
        .form-container {
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0px 2px 10px rgba(0,0,0,0.3);
            padding: 30px;
            margin: 50px auto;
            max-width: 600px;
            text-align: center;
        }
        
        h1 {
            font-size: 36px;
            font-weight: bold;
            margin-top: 0;
        }
        
        label {
            font-weight: bold;
            margin-bottom: 10px;
            display: block;
        }
        
        textarea {
            resize: none;
            height: 150px;
        }
        
        .btn-primary {
            background-color: #4CAF50;
            border-color: #4CAF50;
        }
        
        .btn-primary:hover {
            background-color: #3e8e41;
            border-color: #3e8e41;
        }
        .table-wrapper {
            overflow-x: auto;
         }

         .table-bordered {
            table-layout: fixed;
        }

        table {
        table-layout: fixed;
        width: 100%;
        }

        th,
        td {
            text-align: center;
            padding: 8px;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h1>MongoDB Veri Ekleme</h1>
        <form method="post" action="/">
            <div class="form-group">
                <label for="numberOfBoxes">Kutu Sayısı (2-5)</label>
                <input type="number" class="form-control" name="numberOfBoxes" min="2" max="5" required>
            </div>
            <div id="boxContainer"></div>
            <button type="submit" class="btn btn-primary">Ekle</button>
        </form>
    </div>

    <div>

        <h2>MongoDB Verileri</h2>
        <table class="table">
        <thead>
          <tr>
            <th scope="col">#</th>
                <th scope="col">Content 1</th>
                <th scope="col">Content 2</th>
                <th scope="col">Content 3</th>
                <th scope="col">Content 4</th>
                <th scope="col">Content 5</th>
                <th scope="col">Süre</th>
                <th scope="col">Birleştirilmiş Content</th>
          </tr>
        </thead>
        <tbody>
            <% notes.forEach(function(note, index) { %>
              <tr>
                <th scope="row"><%= index + 1 %></th>
                <td><%= note.content_1 %></td>
                <td><%= note.content_2 %></td>
                <td><%= note.content_3 %></td>
                <td><%= note.content_4 %></td>
                <td><%= note.content_5 %></td>
                <td><%= note.time %></td>
                <td><%= note.birlestirilmisContent %></td>
              </tr>
            <% }); %>
          </tbody>
      </table>
    </div>

    <script>
        const boxContainer = document.getElementById("boxContainer");
        const numberOfBoxesInput = document.getElementsByName("numberOfBoxes")[0];

        numberOfBoxesInput.addEventListener("change", () => {
            const numberOfBoxes = numberOfBoxesInput.value;
            boxContainer.innerHTML = "";

            for (let i = 1; i <= numberOfBoxes; i++) {
                const box = document.createElement("div");
                box.className = "form-group";
                box.innerHTML = `
                <label for="content${i}">İçerik ${i}</label>
                <textarea class="form-control" name="content_${i}" required></textarea>
              `;
                boxContainer.appendChild(box);
            }
        });
        
    </script>
</body>
</html>